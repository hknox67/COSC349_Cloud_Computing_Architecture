(function(){"use strict";var t={2106:function(t,a,e){var s=e(4220),r=e(9812),n=e(5893);const i={id:"wrapper"},o={class:"navbar is-dark"},c={class:"navbar-brand"},l=(0,r.Uk)("MTG Trade"),u=(0,r._)("span",{"aria-hidden":"true"},null,-1),d=(0,r._)("span",{"aria-hidden":"true"},null,-1),m=(0,r._)("span",{"aria-hidden":"true"},null,-1),h=[u,d,m],_={class:"navbar-end"},g=(0,r.Uk)("Browse"),p={class:"navbar-item"},v={class:"buttons"},f=(0,r.Uk)("Log in"),b=(0,r._)("span",{class:"icon"},[(0,r._)("i",{class:"fas fa-shopping-cart"})],-1),w={class:"section"},C=(0,r._)("footer",{class:"footer"},[(0,r._)("p",{class:"has-text-centered"},"Copyright (c) 2022 or something legal i dunno")],-1);function y(t,a,e,s,u,d){const m=(0,r.up)("router-link"),y=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",i,[(0,r._)("nav",o,[(0,r._)("div",c,[(0,r.Wm)(m,{to:"/",class:"navbar-item"},{default:(0,r.w5)((()=>[l])),_:1}),(0,r._)("a",{class:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbar-menu",onClick:a[0]||(a[0]=t=>u.showMobileMenu=!u.showMobileMenu)},h)]),(0,r._)("div",{class:(0,n.C_)(["navbar-menu",{"is-active":u.showMobileMenu}]),id:"navbar-menu"},[(0,r._)("div",_,[(0,r.Wm)(m,{class:"button is-light",to:"/browse/1"},{default:(0,r.w5)((()=>[g])),_:1}),(0,r._)("div",p,[(0,r._)("div",v,[(0,r.Wm)(m,{to:"/log-in",class:"button is-light"},{default:(0,r.w5)((()=>[f])),_:1}),(0,r.Wm)(m,{to:"/cart",class:"button is-success"},{default:(0,r.w5)((()=>[b,(0,r._)("span",null,"Cart ("+(0,n.zw)(d.cartTotalLength)+")",1)])),_:1})])])])],2)])]),(0,r._)("section",w,[(0,r.Wm)(y)]),C],64)}var k={data(){return{showMobileMenu:!1,cart:{items:[]}}},beforeCreate(){this.$store.commit("initializeStore")},mounted(){this.cart=this.$store.state.cart},computed:{cartTotalLength(){let t=0;for(let a=0;a<this.cart.items.length;a++)t+=this.cart.items[a].quantity;return t}}},z=e(8998);const T=(0,z.Z)(k,[["render",y]]);var O=T,I=e(644);const q=t=>((0,r.dD)("data-v-176a3608"),t=t(),(0,r.Cn)(),t),S={class:"home"},x=q((()=>(0,r._)("section",{class:"hero is-medium is-dark mb-6"},[(0,r._)("div",{class:"hero-body has-text-centered"},[(0,r._)("p",{class:"title mb-6"}," Welcome to MTG Trade "),(0,r._)("p",{class:"subtitle"}," card store ")])],-1))),D={class:"columns is-multiline"},U=q((()=>(0,r._)("div",{class:"column is-12"},[(0,r._)("h2",{class:"is-size-2 has-text-centered"},"Latest Cards")],-1))),M={class:"box"},$={class:"image mb-4"},F=["src"],L={class:"is-size-4"},W={class:"is-size-6 has-text-grey"},j=(0,r.Uk)("View details");function Z(t,a,e,s,i,o){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",S,[x,(0,r._)("div",D,[U,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.latestCards,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"column is-3",key:t.id},[(0,r._)("div",M,[(0,r._)("figure",$,[(0,r._)("img",{src:t.image},null,8,F)]),(0,r._)("h3",L,(0,n.zw)(t.name),1),(0,r._)("p",W,"$"+(0,n.zw)(t.price),1)]),(0,r.Wm)(c,{to:t.get_absolute_url,class:"button is-dark mt-4"},{default:(0,r.w5)((()=>[j])),_:2},1032,["to"])])))),128))])])}var H=e(6211),N=e.n(H),P={name:"Home",data(){return{latestCards:[]}},components:{},mounted(){this.getLatestCards()},methods:{getLatestCards(){N().get("/api/v1/latest-cards/").then((t=>{this.latestCards=t.data})).catch((t=>{console.log(t)}))}}};const B=(0,z.Z)(P,[["render",Z],["__scopeId","data-v-176a3608"]]);var J=B;const R={class:"page-card"},Y={class:"columns is-multiline"},K={class:"column is-3"},V={class:"image mb-6"},A=["src"],G={class:"column is-3"},E={class:"title"},Q=(0,r._)("strong",null,"Price: ",-1),X={class:"field has-addons mt-6"},tt={class:"control"},at={class:"control"},et={class:"column is-3 drop-header"},st=(0,r._)("strong",null,"Rarity: ",-1),rt=(0,r._)("strong",null,"Total mana cost: ",-1),nt=(0,r._)("strong",null,"Set: ",-1),it=(0,r._)("strong",null,"artist: ",-1);function ot(t,a,e,i,o,c){return(0,r.wg)(),(0,r.iD)("div",R,[(0,r._)("div",Y,[(0,r._)("div",K,[(0,r._)("figure",V,[(0,r._)("img",{src:o.card.image},null,8,A)])]),(0,r._)("div",G,[(0,r._)("h1",E,(0,n.zw)(o.card.name),1),(0,r._)("p",null,(0,n.zw)(o.card.description),1),(0,r._)("p",null,[Q,(0,r.Uk)((0,n.zw)(o.card.price),1)]),(0,r._)("div",X,[(0,r._)("div",tt,[(0,r.wy)((0,r._)("input",{type:"number",class:"input",min:"1","onUpdate:modelValue":a[0]||(a[0]=t=>o.quantity=t)},null,512),[[s.nr,o.quantity]])]),(0,r._)("div",at,[(0,r._)("a",{class:"button is-dark",onClick:a[1]||(a[1]=(...t)=>c.addToCart&&c.addToCart(...t))},"Add to cart")])])]),(0,r._)("div",et,[(0,r._)("p",null,[st,(0,r.Uk)((0,n.zw)(o.card.rarity),1)]),(0,r._)("p",null,[rt,(0,r.Uk)((0,n.zw)(o.card.cmc),1)]),(0,r._)("p",null,[nt,(0,r.Uk)((0,n.zw)(o.card.cardSet),1)]),(0,r._)("p",null,[it,(0,r.Uk)((0,n.zw)(o.card.artist),1)])])])])}e(1856);var ct=e(3573),lt={name:"Card",data(){return{card:{},quantity:1}},mounted(){this.getCard()},methods:{getCard(){const t=this.$route.params.card_slug;N().get(`/api/v1/card/${t}`).then((t=>{this.card=t.data})).catch((t=>{console.log(t+"here?")}))},addToCart(){(isNaN(this.quantity)||this.quantity<1)&&(this.quantity=1);const t={card:this.card,quantity:this.quantity};this.$store.commit("addToCart",t),(0,ct.toast)({message:"card added to cart",type:"is-success",dismissable:!0,pauseOnHover:!0,duration:2e3,position:"bottom-right"})}}};const ut=(0,z.Z)(lt,[["render",ot]]);var dt=ut;const mt=t=>((0,r.dD)("data-v-b03e99fa"),t=t(),(0,r.Cn)(),t),ht={class:"home"},_t={class:"columns is-multiline"},gt=mt((()=>(0,r._)("div",{class:"column is-12"},[(0,r._)("h2",{class:"is-size-2 has-text-centered"},"Browse Cards")],-1))),pt={class:"box"},vt={class:"image mb-4"},ft=["src"],bt={class:"is-size-4"},wt={class:"is-size-6 has-text-grey"},Ct=(0,r.Uk)("View details");function yt(t,a,e,s,i,o){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",ht,[(0,r._)("div",_t,[gt,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.latestCards,(t=>((0,r.wg)(),(0,r.iD)("div",{class:"column is-3",key:t.id},[(0,r._)("div",pt,[(0,r._)("figure",vt,[(0,r._)("img",{src:t.image},null,8,ft)]),(0,r._)("h3",bt,(0,n.zw)(t.name),1),(0,r._)("p",wt,"$"+(0,n.zw)(t.price),1)]),(0,r.Wm)(c,{to:t.get_absolute_url,class:"button is-dark mt-4"},{default:(0,r.w5)((()=>[Ct])),_:2},1032,["to"])])))),128))])])}var kt={name:"Browse",data(){return{latestCards:[]}},components:{},mounted(){this.getCards()},methods:{getCards(){const t=this.$route.params.page;N().get(`/api/v1/cards/${t}`).then((t=>{this.latestCards=t.data})).catch((t=>{console.log(t)}))}}};const zt=(0,z.Z)(kt,[["render",yt],["__scopeId","data-v-b03e99fa"]]);var Tt=zt;const Ot={class:"page-cart"},It={class:"columns is-multiline"},qt=(0,r._)("div",{class:"column is-12"},[(0,r._)("h1",{class:"title"},"Cart")],-1),St={class:"column is-12 box"},xt={class:"table is-fullwidth"},Dt=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",null,"Card"),(0,r._)("th",null,"Price"),(0,r._)("th",null,"Quantity"),(0,r._)("th",null,"Total"),(0,r._)("th")])],-1),Ut={key:0},Mt={key:0,class:"button bottom-right"};function $t(t,a,e,s,n,i){const o=(0,r.up)("CartItem");return(0,r.wg)(),(0,r.iD)("div",Ot,[(0,r._)("div",It,[qt,(0,r._)("div",St,[(0,r._)("table",xt,[Dt,i.cartTotalLength?((0,r.wg)(),(0,r.iD)("tbody",Ut,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(n.cart.items,(t=>((0,r.wg)(),(0,r.j4)(o,{key:t.card.id,initialItem:t,onRemoveFromCart:i.removeFromCart},null,8,["initialItem","onRemoveFromCart"])))),128))])):(0,r.kq)("",!0)]),i.cartTotalLength?((0,r.wg)(),(0,r.iD)("div",Mt,"Check Out")):(0,r.kq)("",!0)])])])}function Ft(t,a,e,s,i,o){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("tr",null,[(0,r._)("td",null,[(0,r.Wm)(c,{to:i.item.card.get_absolute_url},{default:(0,r.w5)((()=>[(0,r.Uk)((0,n.zw)(i.item.card.name),1)])),_:1},8,["to"])]),(0,r._)("td",null,(0,n.zw)(i.item.quantity),1),(0,r._)("td",null,(0,n.zw)(i.item.card.price),1),(0,r._)("td",null," $"+(0,n.zw)(o.getItemTotal(i.item).toFixed(2)),1),(0,r._)("td",null,[(0,r._)("button",{class:"delete",onClick:a[0]||(a[0]=t=>o.remooveFromCart(i.item))})])])}var Lt={name:"CartItem",props:{initialItem:Object},data(){return{item:this.initialItem}},methods:{getItemTotal(t){return t.quantity*t.card.price},updateCart(){localStorage.setItem("cart",JSON.stringify(this.$store.state.cart))},remooveFromCart(t){this.$emit("removeFromCart",t),this.updateCart()}}};const Wt=(0,z.Z)(Lt,[["render",Ft]]);var jt=Wt,Zt={name:"Cart",components:{CartItem:jt},data(){return{cart:{items:[]}}},mounted(){this.cart=this.$store.state.cart},methods:{removeFromCart(t){console.log("check"),this.cart.items=this.cart.items.filter((a=>a.card.id!==t.card.id))}},computed:{cartTotalLength(){return this.cart.items.reduce(((t,a)=>t+a.quantity),0)}}};const Ht=(0,z.Z)(Zt,[["render",$t]]);var Nt=Ht;const Pt={class:"page-sign-up"},Bt={class:"columns"},Jt={class:"column is-4 is-offset-4"},Rt=(0,r._)("h1",{class:"title"},"Sign up",-1);function Yt(t,a,e,n,i,o){return(0,r.wg)(),(0,r.iD)("div",Pt,[(0,r._)("div",Bt,[(0,r._)("div",Jt,[Rt,(0,r._)("form",{onSubmit:a[0]||(a[0]=(0,s.iM)(((...t)=>o.submitForm&&o.submitForm(...t)),["prevent"]))},null,32)])])])}var Kt={name:"SignUp",data(){return{username:"",password:"",password2:"",errors:[]}},methods:{submitForm(){}}};const Vt=(0,z.Z)(Kt,[["render",Yt]]);var At=Vt;const Gt=[{path:"/",name:"home",component:J},{path:"/card/:card_slug/",name:"Card",component:dt},{path:"/browse/:page",name:"Browse",component:Tt},{path:"/cart",name:"Cart",component:Nt},{path:"/sign-up",name:"SignUp",component:At}],Et=(0,I.p7)({history:(0,I.PO)("/"),routes:Gt});var Qt=Et,Xt=e(2357),ta=(0,Xt.MT)({state:{cart:{items:[]},isAuthenticaed:!1,token:"",isLoading:!1},getters:{},mutations:{initializeStore(t){localStorage.getItem("cart")?t.cart=JSON.parse(localStorage.getItem("cart")):localStorage.setItem("cart",JSON.stringify(t.cart))},addToCart(t,a){const e=t.cart.items.filter((t=>t.card.id===a.card.id));e.length?e[0].quantity=parseInt(e[0].quantity)+parseInt(a.quantity):t.cart.items.push(a),localStorage.setItem("cart",JSON.stringify(t.cart))}},actions:{},modules:{}});N().defaults.baseURL="http://192.168.56.13:8700",(0,s.ri)(O).use(ta).use(Qt,N()).mount("#app")}},a={};function e(s){var r=a[s];if(void 0!==r)return r.exports;var n=a[s]={exports:{}};return t[s].call(n.exports,n,n.exports,e),n.exports}e.m=t,function(){var t=[];e.O=function(a,s,r,n){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],r=t[u][1],n=t[u][2];for(var o=!0,c=0;c<s.length;c++)(!1&n||i>=n)&&Object.keys(e.O).every((function(t){return e.O[t](s[c])}))?s.splice(c--,1):(o=!1,n<i&&(i=n));if(o){t.splice(u--,1);var l=r();void 0!==l&&(a=l)}}return a}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[s,r,n]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var s in a)e.o(a,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:a[s]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,s){var r,n,i=s[0],o=s[1],c=s[2],l=0;if(i.some((function(a){return 0!==t[a]}))){for(r in o)e.o(o,r)&&(e.m[r]=o[r]);if(c)var u=c(e)}for(a&&a(s);l<i.length;l++)n=i[l],e.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return e.O(u)},s=self["webpackChunkassignment_one_vue"]=self["webpackChunkassignment_one_vue"]||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var s=e.O(void 0,[998],(function(){return e(2106)}));s=e.O(s)})();
//# sourceMappingURL=app.2ce2e9ec.js.map